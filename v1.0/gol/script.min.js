// Optimized version of https://github.com/SumiGovindaraju/sumigovindaraju.github.io/blob/master/v1.0/gol/script-old.js using https://closure-compiler.appspot.com/home and minified with JSCompress
function r(){if(p){for(var t=0;t<l;t++)for(var o=0;o<l;o++)e.fillStyle=n[t][o]?"#000000":"#ffffff",e.fillRect(8*t,8*o,8,8);for(t=Array(l),document.title="Generation: "+f,o=0;o<l;o++){t[o]=Array(m);for(var a=0;a<m;a++){var i=0;1<=o&&1<=a&&n[o-1][a-1]&&i++,1<=a&&n[o][a-1]&&i++,o<l-1&&1<=a&&n[o+1][a-1]&&i++,1<=o&&n[o-1][a]&&i++,o<l-1&&n[o+1][a]&&i++,1<=o&&a<m-1&&n[o-1][a+1]&&i++,a<m-1&&n[o][a+1]&&i++,o<l-1&&a<m-1&&n[o+1][a+1]&&i++,t[o][a]=3==i||n[o][a]&&2==i}}n=t,f++}requestAnimationFrame(r)}for(var d,e,f=1,h=innerWidth,k=innerHeight,l=Math.floor(h/8),m=Math.floor(k/8),n=Array(l),p=!0,q=0;q<l;q++)n[q]=Array(m);window.addEventListener("load",function(){(d=document.getElementById("can")).width=h,d.height=k,e=d.getContext("2d"),alert("Press any key to pause/play. Click on any cell to change change its status.");for(var t=0;t<l;t++)for(var o=0;o<m;o++)n[t][o]=.5<=Math.random();r()}),window.addEventListener("keypress",function(){p=!p}),window.addEventListener("click",function(t){n[Math.floor(l*t.clientX/h)][Math.floor(m*t.clientY/k)]=!n[Math.floor(l*t.clientX/h)][Math.floor(m*t.clientY/k)],e.fillStyle=n[Math.floor(l*t.clientX/h)][Math.floor(m*t.clientY/k)]?"#000000":"#ffffff",e.fillRect(8*Math.floor(l*t.clientX/h),8*Math.floor(m*t.clientY/k),8,8)});
